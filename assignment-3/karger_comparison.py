import matplotlib.pyplot as plt
from graph.graph import read_all
import math 

def average(list): 
    return sum(list)/len(list)

old_runtime = [
    4018917.0,
2966125.0,
3371084.0,
3044500.0,
18046417.0,
17622708.0,
18534916.0,
17783292.0,
99987791.0,
104141833.0,
97264125.0,
105779625.0,
286159167.0,
260291458.0,
299676250.0,
272204833.0,
525243708.0,
580537833.0,
587245250.0,
634167959.0,
965753459.0,
911296000.0,
958164667.0,
1001289208.0,
2801089792.0,
2986274750.0,
2781272417.0,
2837135958.0,
6143358666.0,
5775894292.0,
6288427750.0,
6103341208.0,
10135949625.0,
10217291375.0,
11241438708.0,
10354471792.0,
17319436250.0,
16794338417.0,
17645485916.0,
17978465041.0,
25471889416.0,
26969833417.0,
25172295292.0,
26129019250.0,
37335239375.0,
35296250292.0,
35525647875.0,
35558982041.0,
48644871042.0,
50912445541.0,
48458618083.0,
49327026875.0,
68079473000.0,
67537148042.0,
66342125500.0,
65319931209.0,
]

old_discovery = [
    1042000.0,
258208.0,
296792.0,
750875.0,
2970125.0,
1918917.0,
980375.0,
3725958.0,
17447125.0,
14446208.0,
6864500.0,
28607333.0,
16972834.0,
15271375.0,
8579292.0,
16038916.0,
13397792.0,
42216625.0,
44661042.0,
250619417.0,
22085500.0,
58836292.0,
20946083.0,
45463875.0,
161974417.0,
55441125.0,
163706458.0,
110761750.0,
101548000.0,
392000500.0,
103364625.0,
422691000.0,
509227000.0,
162006083.0,
187442083.0,
789718709.0,
772204000.0,
1960063334.0,
1343957084.0,
3086214292.0,
346145666.0,
342680584.0,
950509084.0,
325743708.0,
474892750.0,
1836326417.0,
2365894584.0,
940700459.0,
3667822750.0,
1332963875.0,
632222333.0,
1245397833.0,
877798250.0,
4986806375.0,
824971125.0,
2495517042.0,
]

old_constant_list = [
    3292.016,
2429.643,
2761.357,
2493.842,
1678.116,
1638.716,
1723.541,
1653.648,
1244.926,
1296.647,
1211.014,
1317.039,
1158.116,
1053.427,
1212.821,
1101.641,
975.34,
1078.017,
1090.472,
1177.604,
988.847,
933.088,
981.077,
1025.233,
989.615,
1055.04,
982.613,
1002.35,
1032.6,
970.835,
1056.983,
1025.873,
963.435,
971.167,
1068.513,
984.206,
1037.056,
1005.615,
1056.58,
1076.518,
1034.408,
1095.239,
1022.241,
1061.094,
1084.926,
1025.675,
1032.341,
1033.309,
1053.535,
1102.645,
1049.501,
1068.309,
1134.58,
1125.541,
1105.626,
1088.59,
]

old_C = average(old_constant_list)

new_runtime = [
    19731500.0,
13376875.0,
16147958.0,
14371708.0,
240299292.0,
268284333.0,
209742375.0,
239537417.0,
1702043500.0,
1672645375.0,
1632752583.0,
1745592041.0,
7335973584.0,
7252139917.0,
8085440125.0,
7656908750.0,
9986602709.0,
11523634791.0,
10379119500.0,
11141554583.0,
22060607625.0,
22095292083.0,
20530139000.0,
23142845042.0,
56754153541.0,
58565779750.0,
58420352958.0,
58873094708.0,
134010095875.0,
128170110584.0,
130211527959.0,
129439174667.0,
257588841916.0,
258635898625.0,
260853956583.0,
258256822417.0,
320220283417.0,
321425372667.0,
313480846125.0,
325431798916.0,
609190989791.0,
608415688208.0,
609426155250.0,
570206744708.0,
706357488875.0,
697943213125.0,
690077010834.0,
745998881250.0,
1269611420000.0,
1269493672041.0,
1269306493833.0,
1266458447958.0,
1414460136417.0,
1442772754209.0,
1424607655666.0,
1414643955875.0,
]

new_discovery = [
    3455625.0,
2236791.0,
2744167.0,
2458000.0,
26685125.0,
25370541.0,
23177375.0,
26222166.0,
123374125.0,
122105125.0,
112541000.0,
121486625.0,
417247917.0,
419687375.0,
475616042.0,
448064625.0,
487682041.0,
571469458.0,
516143041.0,
549510375.0,
1011022000.0,
992045708.0,
934360500.0,
1053217167.0,
2180048208.0,
2236631917.0,
2238050458.0,
2266980834.0,
4581623083.0,
4416449042.0,
4524823375.0,
4471847000.0,
8335967125.0,
8259039417.0,
8337357959.0,
8326649167.0,
9707610041.0,
9736197084.0,
9455485041.0,
9850405958.0,
17407820000.0,
17354319500.0,
17421415166.0,
16167959667.0,
19295337125.0,
19363343417.0,
19149139583.0,
20649293333.0,
33984272792.0,
33449564250.0,
33411557542.0,
33290094291.0,
36269376000.0,
37275865542.0,
36480520625.0,
36087676583.0,
]

new_constant_list = [
    10957.402,
16162.667,
13227.28,
11772.3,
22345.162,
24947.459,
19503.708,
22274.316,
21191.772,
20825.743,
20329.046,
21733.986,
29689.446,
29350.162,
32722.615,
30988.304,
18544.399,
21398.556,
19273.274,
20689.061,
22588.137,
22623.651,
21021.071,
23696.254,
20051.033,
20691.074,
20639.695,
20799.647,
22524.939,
21543.331,
21886.461,
21756.641,
24484.149,
24583.674,
24794.503,
24547.642,
19174.209,
19246.368,
18770.664,
19486.265,
24739.114,
24707.63,
24748.664,
23155.973,
20526.06,
20281.549,
20052.965,
21678.0,
27496.829,
27494.279,
27490.225,
27428.543,
23572.707,
24044.552,
23741.821,
23575.771,
]

new_C = average(new_constant_list)

mincut_graphs = read_all("/Users/dilettarigo/Desktop/advanced-algorithms/assignment-3/mincut_dataset", 56)

graphs_dimensions= [(g.get_n(), g.get_m()) for g in mincut_graphs]

def karger_stein_asymptotic_behaviour(n: int, _) -> int:
    return n ** 2 * (math.log(n)) ** 3

x = [n for n, _ in graphs_dimensions]
reference_old = [old_C * karger_stein_asymptotic_behaviour(n, m) for (n, m) in graphs_dimensions]

reference_new = [new_C * karger_stein_asymptotic_behaviour(n, m) for (n, m) in graphs_dimensions]

#plt.plot(x, reference_old, label="Expected old complexity")
plt.plot(x, old_runtime, label="Wrong complexity")
#plt.plot(x, old_discovery, label="Wrong discovery time")

#plt.plot(x, reference_new, label="Expected new complexity")
plt.plot(x, new_runtime, label="Correct complexity")
plt.plot(x, new_discovery, label="Correct discovery time")

plt.title("Plotting two Karger's version")
plt.xlabel("n")
plt.ylabel("Time")
plt.legend()
plt.show()
